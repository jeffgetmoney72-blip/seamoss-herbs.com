<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Shop - Sea Moss & Herbal Essentials</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Arial,Helvetica,sans-serif;background:#f7f7f7;color:#333}
header{position:relative;height:200px;display:flex;align-items:center;justify-content:center;overflow:hidden}
header img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
header h1{position:relative;z-index:1;color:#fff;font-size:2rem;text-shadow:2px 2px 6px rgba(0,0,0,.6)}
nav{background:#3cb371;display:flex;justify-content:center;gap:18px;padding:10px;flex-wrap:wrap}
nav a{color:#fff;text-decoration:none;font-weight:600}
.content{max-width:1000px;margin:28px auto;padding:0 16px}
.product-list{display:flex;gap:18px;flex-wrap:wrap;justify-content:center}
.product{width:260px;background:#fff;border-radius:10px;padding:14px;text-align:center;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.product select{width:100%;max-width:220px;padding:8px;border:1px solid #ddd;border-radius:6px;margin:0 auto 10px;display:block}
.product input[type=number]{width:100%;max-width:120px;padding:8px;border:1px solid #ddd;border-radius:6px;margin:0 auto 10px;display:block}
button{background:#2e8b57;color:#fff;border:none;padding:10px 12px;border-radius:8px;cursor:pointer;font-weight:600}
button:hover{background:#39b36b}
#cart-icon{position:fixed;top:18px;right:18px;width:56px;height:56px;border-radius:50%;background:#2e8b57;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;z-index:1200;cursor:pointer}
#cart-icon .badge{position:absolute;top:-6px;right:-6px;background:#e94b4b;color:#fff;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px}
#cart-popup{position:fixed;top:84px;right:18px;width:380px;max-height:0;overflow:hidden;background:#fff;border-radius:10px;box-shadow:0 18px 40px rgba(0,0,0,0.18);transition:max-height .35s ease,opacity .25s;opacity:0;z-index:1200}
#cart-popup.show{opacity:1;max-height:900px;padding:16px;overflow-y:auto}
.cart-item{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.cart-item button.remove{background:#e94b4b;color:#fff;border:none;padding:6px 8px;border-radius:6px;cursor:pointer}
.cart-total{margin-top:10px;font-weight:800}
.proceed-button{display:block;width:100%;max-width:320px;margin:10px auto;padding:12px 14px;border-radius:8px;text-align:center;background:#39b36b;color:#fff;text-decoration:none;font-weight:700}
footer{margin-top:28px;background:#2e8b57;color:#fff;text-align:center;padding:16px 8px}
@media(max-width:760px){.product{width:100%;max-width:420px}}
</style>
</head>
<body>

<header>
  <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1600&q=80" alt="sea moss">
  <h1>Shop Sea Moss & Herbal Essentials</h1>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="shop.html">Shop</a>
  <a href="shipping.html">Shipping</a>
</nav>

<section class="content">
  <h2 style="text-align:center;color:#2e8b57;margin-bottom:14px">Our Products</h2>
  <div class="product-list">
    <div class="product">
      <h4>Sea Moss Gel</h4>
      <p class="price">$30</p>
      <label>Flavor</label>
      <select id="flavor-seamoss-shop">
        <option>Soursop</option><option>Blueberry</option><option>Pineapple</option><option>Cherries</option><option>Strawberry</option>
      </select>
      <input id="qty-seamoss-shop" type="number" min="1" value="1" aria-label="qty">
      <button onclick="addToCart('Sea Moss Gel',30,'flavor-seamoss-shop','qty-seamoss-shop')">Add to Cart</button>
    </div>

    <div class="product">
      <h4>Herbal Tea</h4>
      <p class="price">$5</p>
      <label>Flavor</label>
      <select id="flavor-herbal-shop">
        <option>Raspberry Leaf</option><option>Hyssop Leaf</option><option>Lemongrass</option><option>Soursop Leaf</option><option>Ashwagandha</option><option>Dandelion Leaf</option>
      </select>
      <input id="qty-herbal-shop" type="number" min="1" value="1" aria-label="qty">
      <button onclick="addToCart('Herbal Tea',5,'flavor-herbal-shop','qty-herbal-shop')">Add to Cart</button>
    </div>
  </div>

  <a class="proceed-button" href="shipping.html">Proceed to Shipping</a>
</section>

<div id="cart-icon" onclick="toggleCart()" aria-label="Cart">ðŸ›’ <div class="badge" id="cart-count">0</div></div>

<div id="cart-popup" aria-hidden="true">
  <h4>Your Cart</h4>
  <div id="cart-items"></div>
  <div class="cart-total" id="cart-total">Total: $0.00</div>
  <a class="proceed-button" href="shipping.html">Proceed to Shipping</a>
</div>

<footer>&copy; 2025 Sea Moss & Herbal Essentials</footer>

<script>
let cart = JSON.parse(localStorage.getItem('cart')||'[]');

function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); updateBadge(); renderCart(); }

function updateBadge(){ const count = cart.reduce((s,i)=>s+i.qty,0); document.getElementById('cart-count').textContent = count; }

function addToCart(name, price, flavorId, qtyId){
  const flavor = document.getElementById(flavorId).value;
  const qty = Math.max(1, parseInt(document.getElementById(qtyId).value)||1);
  const fullName = flavor ? `${name} (${flavor})` : name;
  const existing = cart.find(i=>i.name===fullName);
  if(existing) existing.qty += qty; else cart.push({name: fullName, price: Number(price), qty: Number(qty)});
  saveCart();
  alert(`${qty} Ã— ${fullName} added to cart`);
}

function removeFromCart(name){ cart = cart.filter(i=>i.name!==name); saveCart(); }

function renderCart(){
  const out = document.getElementById('cart-items');
  out.innerHTML = '';
  let total = 0;
  cart.forEach(item=>{
    const row = document.createElement('div'); row.className='cart-item';
    const text = document.createElement('div'); text.textContent = `${item.name} Ã— ${item.qty} - $${(item.price*item.qty).toFixed(2)}`;
    const btn = document.createElement('button'); btn.className='remove'; btn.textContent='Remove';
    btn.onclick = ()=>{ removeFromCart(item.name); };
    row.appendChild(text); row.appendChild(btn); out.appendChild(row);
    total += item.price * item.qty;
  });
  document.getElementById('cart-total').textContent = `Total: $${total.toFixed(2)}`;
}

function toggleCart(){
  const popup = document.getElementById('cart-popup');
  popup.classList.toggle('show');
  popup.setAttribute('aria-hidden', !popup.classList.contains('show'));
  if(popup.classList.contains('show')) popup.scrollTop = 0;
}

window.addEventListener('load', ()=>{ renderCart(); updateBadge(); });
</script>

</body>
</html>
